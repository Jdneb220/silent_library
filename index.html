<!DOCTYPE html>
<html lang="en">
<head>
    <title>Silent Library</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

    <!-- Load libraries (Note: IE required polyfills, in this exact order_ -->
    <script src="node_modules/es6-shim/es6-shim.min.js"></script>
    <script src="node_modules/systemjs/dist/system-polyfills.js"></script>
    <script src="node_modules/angular2/es6/dev/src/testing/shims_for_IE.js"></script>

    <script src="node_modules/angular2/bundles/angular2-polyfills.js"></script>
    <script src="node_modules/systemjs/dist/system.src.js"></script>
    <script src="node_modules/rxjs/bundles/Rx.js"></script>
    <script src="node_modules/angular2/bundles/angular2.dev.js"></script>
    <script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
    <!-- Configure SystemJS -->
    <script>
        System.config({
            packages: {
                app: {
                    format: 'register',
                    defaultExtension: 'js'
                }
            }
        });
        System.import('app/js/main').then(null, console.error.bind(console));
    </script>
    <link type="text/css" rel="stylesheet" href="assets/style.css"  media="screen,projection"/>
</head>
<body>
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">
        Silent Library
      </a>
           <p class="navbar-text navbar-right">Weekend Project by Ben, Ray and Liz</p>
    </div>

  </div>
</nav>


<div class="container-fluid">
    <my-app>Loading...</my-app>
</div>


</body>
<script>
function flipOver(){
  let playButton = document.querySelector('#playButton');

  $(playButton).text(3)
  setTimeout(function(){$(playButton).text(2)},1000)
  setTimeout(function(){$(playButton).text(1)},2000)
  setTimeout(function(){
  $(playButton).text("Reset")

  let allCards = document.querySelectorAll('.flip-toggle')
  let punishCardIndex = Math.floor(Math.random()*(allCards.length - 1))
  //assign backgrounds
  allCards.forEach(function(x,i){
    //if card hasn't been flipped yet, add appropriate classes
    if (!x.classList.contains('hover'))
      if (i === punishCardIndex)
        x.children[0].children[1].classList.add('skull');
      else
        x.children[0].children[1].classList.add('red_ex');
    //if card is already flipped, remove all extra classes
    else {
      x.children[0].children[1].classList.remove('red_ex');
      x.children[0].children[1].classList.remove('skull');
    }

  })
  //flip
  allCards.forEach(function(x,i){
    x.classList.toggle('hover');
    })

  }, 3000)
}
</script>
</html>
